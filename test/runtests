#!/bin/bash

TIMEFORMAT=$' (%2lR real)'

edgetests="hilbert irrdecom intersect assoprimes minimize alexdual radical"
tests="frob transform ptransform latformat"

for t in $edgetests;
do
  echo -n "$t "
  cd test/$t
  ./runtests $*
  if [ $? != 0 ]; then exit 1; fi
  cd ../..

  cd test/special_ideals
  ./runtests $t $*
  if [ $? != 0 ]; then exit 1; fi
  cd ../..

  echo
done

for t in $tests;
do
  echo -n "$t "
  cd test/$t
  ./runtests $*
  if [ $? != 0 ]; then exit 1; fi
  echo
  cd ../..
done

echo -n "internal ";
bin/frobby test 2>/dev/null
if [ $? != 0 ]; then exit 1; fi
echo
